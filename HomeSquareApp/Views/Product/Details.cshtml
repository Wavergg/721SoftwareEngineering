@model int

@{ 
        ViewData["Title"] = "Product Name";
        int[] objectTestData = new int[6] { 560,230,90,400,722,200};
    }

    @section pageSpecificCss{
    <link rel="stylesheet" href="~/lib/Chart.js/Chart.css" />
    <link rel="stylesheet" href="~/lib/css/productDetails.css" />
    <link rel="stylesheet" href="~/lib/css/magnifier.css" />
}

<div class="py-5">
    <div class="d-flex align-items-center justify-content-center mb-3 pt-4">
        <div class="container flex-md-row d-md-flex justify-content-center">
            @* Product Card Image section *@
            <section class="magnifier-thumb-wrapper w-md-50 card bg-white border-0" style="height:auto">
                <img id="thumb" class="mx-3" src="~/lib/images/products/Shampoo-PNG-Clipart.png" style="object-fit:fill;background-repeat: no-repeat;" asp-append-version="true" />
                <span class="badge" style="border-bottom-left-radius:0;border-top-left-radius:inherit">Specials</span>
            </section>

            @* Product Information Section *@
            <section class="ps-md-5 w-md-50 pt-3 p-md-0">
                <h1>Product Name</h1>
                <p>Loremwang Lorem Ipsum passages, ane like Aldus PageMaker including versions of Lorem Ipsum.</p>
                <div class="d-flex align-items-center">
                    <div>
                        @* Do price after discount, Split price and store it in different variable and do a razor field for whole number and decimal *@
                        <span class="product-price">$</span><span class="product-price">100</span><sup class="product-price-decimal">50</sup>
                        @* Price before discount *@
                        <p>Was <span class="product-price-before-special">$125.00</span></p>
                    </div>
                    <div class="ms-auto">
                        @* Price per unit *@
                        <span class="fw-normal">$14.00 / Ea.</span>
                    </div>
                </div>
                <button class="btn btn-success form-control rounded-pill">Add To Cart</button>
                <button class="my-3 btn btn-light border-secondary text-dark form-control rounded-pill">Checkout</button>
                @*<a href="#headingReview" class="btn btn-light text-dark rounded-pill">Review</a>*@
            </section>
        </div>
    </div>

    <div class="mt-5">
        <ul class="nav nav-tabs justify-content-center" id="productTab" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="productInfo-tab" data-bs-toggle="tab" data-bs-target="#productInfo" type="button" role="tab" aria-controls="productInfo" aria-selected="true">Product Information</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="statiscic-tab" data-bs-toggle="tab" data-bs-target="#statiscic" type="button" role="tab" aria-controls="statiscic" aria-selected="false">Statistic</button>
            </li>
        </ul>
        <div class="tab-content bg-light" id="productTabContent">
            <div class="tab-pane fade show active" id="productInfo" role="tabpanel" aria-labelledby="productInfo-tab">
                <div class="container py-5">
                    <dl class="row">
                        <dt class="col-sm-3">Description lists</dt>
                        <dd class="col-sm-9">A description list is perfect for defining terms.</dd>

                        <dt class="col-sm-3">Term</dt>
                        <dd class="col-sm-9">
                            <p>Definition for the term.</p>
                            <p>And some more placeholder definition text.</p>
                        </dd>

                        <dt class="col-sm-3">Another term</dt>
                        <dd class="col-sm-9">This definition is short, so no extra paragraphs or anything.</dd>

                        <dt class="col-sm-3 text-truncate">Truncated term is truncated</dt>
                        <dd class="col-sm-9">This can be useful when space is tight. Adds an ellipsis at the end.</dd>

                        <dt class="col-sm-3">Nesting</dt>
                        <dd class="col-sm-9">
                            <dl class="row">
                                <dt class="col-sm-4">Nested definition list</dt>
                                <dd class="col-sm-8">I heard you like definition lists. Let me put a definition list inside your definition list.</dd>
                            </dl>
                        </dd>
                    </dl>
                </div>
            </div>
            <div class="tab-pane fade" id="statiscic" role="tabpanel" aria-labelledby="statiscic-tab">
                <div class="container py-5">
                    <div class="row justify-content-center">
                        <div class="col-md-5">
                            <canvas id="myChart" width="400" height="400"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container mt-5">
        <a href="#" class="text-primary fw-bold">Log in</a> to post Review
        <div class="text-muted">
            
            <hr class=""/>
        </div>
    </div>
</div>

@section Scripts {
    @* Script for line chart *@
    <script src="~/lib/Chart.js/Chart.js"></script>
    <script>
        var config = {
            type: 'line',
            data: {
                labels: ['21 Feb', '28 Feb', '7 Mar', '14 Mar', '21 Mar', '28 Mar'],
                datasets:
                    [{
                    lineTension: 0.1,
                    label: '# of purchase',
                    fill: true,
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.2)',
                    ],
                    borderColor: [
                        'rgba(255, 99, 132, 1)',
                    ],
                    data: [
                        '12',
                        13,
                        65,
                        59,
                        20,
                        21
                    ],
                    }],
            },
            options: {
                responsive: true,
                title: {
                    display: true,
                    text: 'Items bought per week'
                },
                tooltips: {
                    mode: 'index',
                    intersect: false,
                },
                hover: {
                    mode: 'nearest',
                    intersect: true
                },
                scales: {
                    xAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: 'End of the week'
                        }
                    }],
                    yAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: 'Quantity'
                        }
                    }]
                }
            }
        };

        window.onload = function () {
            var ctx = document.getElementById('myChart').getContext('2d');
            window.myLine = new Chart(ctx, config);
        };
    </script>
    
    @* Script For magnifier on product, 
       commented the zommable: true because it could be a bad HCI *@
    <script src="~/lib/js/event.js"></script>
    <script src="~/lib/js/magnifier.js"></script>
    <script>
        var evt = new Event(),
            m = new Magnifier(evt);
        m.attach({
            thumb: '#thumb',
            mode: 'inside',
            zoom: 4,
            /*zoomable: true*/
            onthumbenter: function () {
            },
            onthumbmove: function () {
            },
            onthumbleave: function () {
            },
        });
    </script>
}