@model HomeSquareApp.ViewModels.ProductViewModel

@{
    ViewData["Title"] = "Products";
    ViewBag.NavbarExtension = true;
}

@section pageSpecificCss{ 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="~/lib/css/productCard.css" />
    <link rel="stylesheet" href="~/lib/css/sidebar.css" />
}

<div class="d-flex bg-light" id="wrapper">
    <!-- Sidebar -->
    <div class="bg-white border-right shadow pt-5" id="sidebar-wrapper">
        <div class="container" data-bs-toggle="collapse" href="#collapseCategories" role="button" aria-expanded="true" aria-controls="collapseCategories">
            <h2 class="sidebar-heading text-center p-3">Categories
                <svg class="bi" width="16" height="24" fill="currentColor">
                    <use xlink:href="/lib/images/bootstrap-icons-1.4.0/bootstrap-icons.svg#chevron-down" />
                </svg>
            </h2>
        </div>
        <div class="list-group collapse active show" id="collapseCategories" style="">
            <a asp-action="Index" asp-controller="Product" asp-route-queryId="0" class="p-3">Popular Products</a>
            @foreach (Category category in Model.Categories)
            {
                <a asp-action="Index" asp-controller="Product" asp-route-queryId="@category.CategoryID" class="p-3">@category.CategoryName</a>
            }
        </div>
    </div>
    <!-- /#sidebar-wrapper -->
    <!-- Page Content -->
    <div id="page-content-wrapper">
        <div class="d-flex mt-5 row">
            <img class="ms-lg-5" src="~/lib/images/banner/Fairfield-Meat-Market-Beef-Banner.png" asp-append-version="true"/>
        </div>
        <div class="container m-md-5 mt-0">
            <div class="d-lg-flex ">
                <div class="">
                    <h1>Popular Products This Week</h1>
                </div>
                <div class="ms-auto">
                    <select class="form-select mb-2" aria-label="Default select example">
                        <option selected>Sort by Newest</option>
                        <option value="1">Sort by Lowest Price</option>
                        <option value="2">Sort by Most Popular</option>
                        <option value="3">Sort by Latest</option>
                    </select>
                    <button class="btn btn-dark" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFilter" aria-expanded="false" aria-controls="collapseFilter">
                        <svg class="bi" width="16" height="24" fill="currentColor">
                            <use xlink:href="./lib/images/bootstrap-icons-1.4.0/bootstrap-icons.svg#filter" />
                        </svg>
                        Filter
                    </button>
                </div>
            </div>
            <div class="collapse mt-2" id="collapseFilter">
                <div class="card card-body">
                    
                </div>
            </div>
            <hr />
            <div class="container mt-4">
                <div class="row row-cols-sm-2 row-cols-xl-3 g-2 g-lg-3">
                    @foreach(Product product in Model.Products) { 
                        <div class="col d-flex align-items-stretch">
                            <partial name="_ProductCardLongStripPartial" model="product"/>
                        </div>
                    }
                </div>
                <nav class="mt-5" aria-label="Page navigation example">
                    <ul class="pagination justify-content-end">
                        <li class="page-item disabled">
                            <a class="page-link bg-transparent border-0" href="#" tabindex="-1" aria-disabled="true">Previous</a>
                        </li>
                        <li class="page-item"><a class="page-link text-success fw-bold bg-transparent border-0 text-decoration-underline" href="#">1</a></li>
                        <li class="page-item"><a class="page-link bg-transparent border-0 text-success" href="#">2</a></li>
                        <li class="page-item"><a class="page-link bg-transparent border-0 text-success" href="#">3</a></li>
                        <li class="page-item">
                            <a class="page-link bg-transparent border-0 text-success" href="#">Next</a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>

    
    <!-- /#page-content-wrapper -->
</div>
<!-- /#wrapper -->

@section Scripts{

    <!-- Menu Toggle Script -->
    <script>
        $("#menu-toggle").click(function (e) {
            e.preventDefault();
            $("#wrapper").toggleClass("toggled");
        });
    </script>
}